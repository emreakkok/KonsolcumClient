<div class="container my-4">
  <div class="row mb-4">
    <div class="col-12">
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb mb-2">
          <li class="breadcrumb-item">
            <a [routerLink]="['/']" class="text-decoration-none text-primary">Ana Sayfa</a>
          </li>
          <li class="breadcrumb-item active" aria-current="page">Kategoriler</li>
        </ol>
      </nav>
      <h1 class="text-primary mb-1">Kategoriler</h1>
      <p class="text-muted">
        <i class="fas fa-layer-group me-1"></i>
        {{ totalCategoryCount }} kategori bulundu
      </p>
      <hr>
    </div>
  </div>

  <div class="row" *ngIf="categories.length > 0">
    <div class="col-lg-4 col-md-6 mb-4" *ngFor="let category of categories; trackBy: trackByCategoryId">
      <div class="card h-100 category-card shadow-sm">
        <div class="position-relative overflow-hidden">
          <img 
            [src]="category.showcaseImagePath" 
            (error)="onImageError($event)"
            class="card-img-top"
            alt="{{ category.name }}"
            style="height: 220px; object-fit: cover;">
          
          <span *ngIf="category.isActive" class="badge bg-success position-absolute top-0 end-0 m-2">
            <i class="fas fa-check-circle me-1"></i>Aktif
          </span>
        </div>

        <div class="card-body d-flex flex-column">
          <h5 class="card-title text-dark fw-bold mb-2">{{ category.name }}</h5>
          
          <p class="card-text text-muted flex-grow-1 mb-3" 
              [title]="category.description">
            {{ category.description | slice:0:150 }}{{ category.description.length > 150 ? '...' : '' }}
          </p>
          
          <div class="mt-auto">
            <button 
              class="btn btn-outline-primary w-100 btn-lg"
              (click)="viewCategoryProducts(category.id, category.name)">
              <i class="fas fa-eye me-2"></i>Kategoriyi İncele
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row" *ngIf="totalPageCount > 1">
    <div class="col-12">
      <nav aria-label="Kategoriler sayfalama" class="d-flex justify-content-center">
        <ul class="pagination pagination-lg">
          <li class="page-item disabled">
            <span class="page-link bg-warning text-dark border-warning">
              {{ currentPageNo }} / {{ totalPageCount }}
            </span>
          </li>
          
          <li class="page-item" [class.disabled]="currentPageNo <= 1">
            <a class="page-link" 
               (click)="goToPreviousPage()" 
               style="cursor: pointer;"
               [class.text-muted]="currentPageNo <= 1">
              <i class="fas fa-chevron-left me-1"></i>Önceki
            </a>
          </li>
          
          <li class="page-item"
              *ngFor="let pageNo of pageList"
              [class.active]="pageNo === currentPageNo">
            <a class="page-link" 
               (click)="changePage(pageNo)" 
               style="cursor: pointer;">
              {{ pageNo }}
            </a>
          </li>
          
          <li class="page-item" [class.disabled]="currentPageNo >= totalPageCount">
            <a class="page-link" 
               (click)="goToNextPage()" 
               style="cursor: pointer;"
               [class.text-muted]="currentPageNo >= totalPageCount">
              Sonraki<i class="fas fa-chevron-right ms-1"></i>
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </div>

  <div class="row" *ngIf="categories.length === 0">
    <div class="col-12 text-center py-5">
      <div class="alert alert-info border-0 shadow-sm">
        <i class="fas fa-layer-group fa-3x text-info mb-3"></i>
        <h4 class="alert-heading">Kategori Bulunamadı</h4>
        <p class="mb-3">Henüz aktif kategori bulunmamaktadır.</p>
        <hr>
        <a [routerLink]="['/']" class="btn btn-outline-primary">
          <i class="fas fa-home me-2"></i>Ana Sayfaya Dön
        </a>
      </div>
    </div>
  </div>
</div>